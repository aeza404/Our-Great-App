<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Kitchen Kompanion</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <div class="navigation">

                <a href="profile.html">
            <div>
                <img src="user.png" alt="Profile" />
                <p>Profile</p>
            </div>
        </a>

        <a href="fridge.html">
            <div class="selected">
                <img src="fridge.png" alt="Fridge">
                <p>Inventory</p>
            </div>
        </a>

        <a href="shopping.html">
            <div>
                <img src="shopping.png" alt="Shopping">
                <p>Shopping</p>
            </div>
        </a>

        <a href="recipes.html">
            <div>
                <img src="recipe.png" alt="Recipes">
                <p>Recipes</p>
            </div>
        </a>



    </div>
    
        <!-- Recipes page content -->
        <main class="page" style="padding:1rem 1rem 160px;">
                <header style="display:flex;align-items:center;justify-content:space-between;gap:1rem;">
                        <h1 style="margin:0">Recipes</h1>
                        <div>
                                <button id="smartShoppingBtn" class="btn">Smart Shopping</button>
                                <button id="filterRecipesBtn" class="btn">Filter Recipes</button>
                                <button id="addRecipeBtn" class="btn">Add Recipe</button>
                        </div>
                </header>

<div id="filterRecipesPanel" class="filter-panel" style="display:none;margin-top:1rem;padding:1rem;background:var(--card-bg);border-radius:8px;">
    <h3 style="margin-top:0;font-size:1.5rem;">Filter by:</h3>
    <div style="display:flex;flex-direction:column;gap:0.75rem;margin-bottom:1rem;">
        <label style="display:flex;align-items:center;gap:0.5rem;cursor:pointer;font-size:1.3rem;">
            <input type="checkbox" id="filterByAllergies" style="width:20px;height:20px;cursor:pointer;">
            <span>Show only safe recipes (filter allergens)</span>
        </label>
        <label style="display:flex;align-items:center;gap:0.5rem;cursor:pointer;font-size:1.3rem;">
            <input type="checkbox" id="filterByPreferences" style="width:20px;height:20px;cursor:pointer;">
            <span>Filter by dietary preferences</span>
        </label>
    </div>
    <div style="display:flex;gap:0.5rem;">
        <button id="applyFiltersBtn" class="btn">Apply Filters</button>
        <button id="clearFiltersBtn" class="btn ghost">Clear Filters</button>
    </div>
</div>

                <div id="recipesList" class="recipes-list" aria-live="polite" style="margin-top:1rem;">
                    <!-- Placeholder; actual message is rendered by script if empty -->
                    <p class="hint">No recipes yet â€” click "Add Recipe" to create one.</p>
                </div>
        </main>

        <!-- Recipe modal/backdrop -->
        <div id="recipeBackdrop" class="modal-backdrop" aria-hidden="true">
            <div class="modal" role="dialog" aria-modal="true" aria-labelledby="recipeFormTitle">
                <h2 id="recipeFormTitle">Add / Edit Recipe</h2>
                <form id="recipeForm">
                    <input type="hidden" name="editIndex" value="">
                    <label>Recipe name
                        <input type="text" name="name" required>
                    </label>

                    <label>Image URL (optional)
                        <input type="text" name="image" placeholder="https://...">
                    </label>

                    <label>Servings
                        <input type="number" name="servings" min="1" value="1" style="width:6rem">
                    </label>

                    <div id="ingredientsEditor">
                        <label>Ingredients</label>
                        <div id="ingredientsContainer"></div>
                        <button type="button" id="addIngredientBtn" class="btn ghost" style="margin-top:0.5rem">+ Add ingredient</button>
                    </div>

                    <label>Procedures / Notes
                        <textarea name="procedures" rows="5"></textarea>
                    </label>

                    <div class="modal-foot">
                        <button type="button" id="cancelRecipeBtn" class="btn ghost">Cancel</button>
                        <button type="submit" class="btn">Save</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Smart Shopping Modal -->
<div id="smartShoppingBackdrop" class="modal-backdrop" aria-hidden="true" style="display:none;">
    <div class="modal" role="dialog" aria-modal="true">
        <h2>Smart Shopping from Recipes</h2>
        <p style="color:#64748b;margin-bottom:1rem;">
            Select recipes you want to cook, and we'll generate a shopping list based on what you already have in inventory.
        </p>
        
        <div id="recipeSelectionContainer" style="max-height: 300px; overflow-y: auto; margin-bottom: 1rem; border: 1px solid #e2e8f0; border-radius: 8px; padding: 1rem;">
            <!-- Recipe checkboxes will be populated here by JS -->
        </div>
        
        <div class="modal-foot">
            <button type="button" id="cancelSmartShoppingBtn" class="btn ghost">Cancel</button>
            <button type="button" id="generateSmartListBtn" class="btn">Generate Shopping List</button>
        </div>
    </div>
</div>


        <button id="myButton">Contact Us</button>
        <script src="script2.js"></script>
        <script src="recipeScript.js"></script>
</body>

</html>